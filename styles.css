:root{
  --bg:#0b1220;--panel:#111827;--panel2:#0f172a;--text:#e5e7eb;--muted:#9ca3af;--border:#1f2937;
  --brand:#2563eb;--ok:#16a34a;--warn:#d97706;--info:#2563eb;--danger:#dc2626;
}
html[data-theme="desert"]{--bg:#14120f;--panel:#2a241b;--panel2:#1e1a14;--text:#f4eadd;--muted:#cbbfae;--border:#3a3227;--brand:#c2a56f;--ok:#4caf50;--warn:#c1852c;--info:#a07c3b;--danger:#c45555}
html[data-theme="navy"]{--bg:#0a1020;--panel:#0f1b2d;--panel2:#0b1624;--text:#e6eefb;--muted:#9fb3c8;--border:#1e2a3a;--brand:#3b82f6;--ok:#35c26b;--warn:#d08a2e;--info:#3b82f6;--danger:#ef4444}
html[data-theme="light"]{--bg:#f5f7fb;--panel:#ffffff;--panel2:#ffffff;--text:#111827;--muted:#6b7280;--border:#e5e7eb;--brand:#2563eb;--ok:#16a34a;--warn:#b45309;--info:#2563eb;--danger:#b91c1c}
html[data-theme="glass"]{--bg:#0b1220;--panel:rgba(17,24,39,.55);--panel2:rgba(15,23,42,.45);--text:#e5e7eb;--muted:#c4c7ce;--border:rgba(255,255,255,.15);--brand:#60a5fa;--ok:#22c55e;--warn:#f59e0b;--info:#3b82f6;--danger:#ef4444;backdrop-filter:saturate(1.1)}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Naskh Arabic UI","Noto Sans Arabic",Arial,sans-serif}
header{position:sticky;top:0;z-index:20;background:rgba(17,24,39,.9);backdrop-filter:blur(6px);border-bottom:1px solid var(--border);padding:10px;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
h1{font-size:16px;margin:0 8px 0 0;white-space:nowrap}
button{appearance:none;border:none;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer}
button.add{background:var(--brand);color:#fff}
button.secondary{background:transparent;border:1px solid var(--border);color:var(--text)}
button.save{background:var(--ok);color:#fff}
button.danger{background:var(--danger);color:#fff}
button:disabled{opacity:.5;cursor:not-allowed}
.container{padding:12px;max-width:1400px;margin:auto}
.table-wrap{margin-top:10px;border:1px solid var(--border);border-radius:12px;overflow:auto;max-height:60vh;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02))}
table{min-width:1900px;width:100%;border-collapse:separate;border-spacing:0}
th,td{border-bottom:1px solid var(--border);padding:8px;white-space:nowrap;text-align:right}
thead th{position:sticky;top:0;background:var(--panel);font-size:12px;color:var(--muted);z-index:5}
tr:hover td{background:rgba(255,255,255,.02)}
.search{width:100%;padding:9px;border:1px solid var(--border);border-radius:10px;background:var(--panel2);color:var(--text)}
.dashboard{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0}
.card{flex:1;min-width:160px;background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px;text-align:center}
.card h3{margin:0 0 6px 0;color:var(--muted);font-size:13px}
.card .num{font-size:20px;font-weight:800}
.badge{padding:4px 8px;border-radius:6px;font-size:12px;color:#fff;display:inline-block}
.hidden{display:none!important}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;place-items:center;z-index:50}
.modal.open{display:grid}
.dialog{width:min(1100px,96vw);max-height:92vh;overflow:auto;background:var(--panel);border:1px solid var(--border);border-radius:14px}
.dialog header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid var(--border)}
.dialog .body{padding:14px}
.dialog footer{display:flex;gap:8px;align-items:center;padding:12px 14px;border-top:1px solid var(--border)}
.form-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}
.field{display:flex;flex-direction:column;gap:6px}
.field label{font-size:12px;color:var(--muted)}
.field input,.field select{background:var(--panel2);border:1px solid var(--border);color:var(--text);border-radius:10px;padding:9px;min-height:40px}
@media (max-width:900px){.form-grid{grid-template-columns:1fr}}
.tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.tab-btn{background:transparent;border:1px solid var(--border);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer}
.tab-btn.active{background:var(--brand);color:#fff;border-color:transparent}
.tab-panel{display:none}
.tab-panel.active{display:block}
.section-title{display:flex;align-items:center;gap:8px;margin:6px 0 10px 0;color:var(--muted);font-size:13px}
.section-title .dot{width:8px;height:8px;border-radius:50%;background:var(--brand)}
.form-grid.two-cols{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
@media (max-width:900px){.form-grid.two-cols{grid-template-columns:1fr}}
.hint{font-size:11px;color:var(--muted);margin-top:2px}
.progress{height:6px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin-bottom:10px}
.progress > span{display:block;height:100%;width:0;background:var(--brand);transition:width .3s}
.progress-text{font-size:12px;color:var(--muted);margin:-6px 0 8px}

.card-wrap{display:grid;gap:8px;grid-template-columns:2fr 1fr}
.veh-card{border:1px dashed var(--border);border-radius:12px;padding:12px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02))}
.veh-card h4{margin:0 0 6px 0}
.qr-area{display:grid;place-items:center;border:1px solid var(--border);border-radius:12px;padding:12px;background:var(--panel2)}

.map-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.map-row{display:flex;gap:8px;align-items:center}
.warn{color:#fbbf24;font-size:12px}
.ok{color:#22c55e;font-size:12px}
.err{color:#fca5a5;font-size:12px;margin-top:4px}
.field input.invalid,.field select.invalid{border-color:#ef4444;box-shadow:0 0 0 2px rgba(239,68,68,.15)}

.bulkbar{position:sticky;bottom:0;background:rgba(17,24,39,.95);border-top:1px solid var(--border);padding:10px;display:none;gap:8px;align-items:center;z-index:10}
.bulkbar.show{display:flex}
.veh-card-pro {
  border: 2px solid var(--border);
  border-radius: 16px;
  background: var(--panel);
  padding: 20px;
  max-width: 600px;
  width: 95%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  margin: auto;
}

.veh-card-pro header {
  text-align: center;
  border-bottom: 1px solid var(--border);
  margin-bottom: 12px;
}

.veh-info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px 16px;
  margin-bottom: 16px;
}

.veh-info-grid div {
  background: var(--panel2);
  padding: 6px 8px;
  border-radius: 6px;
  font-size: 14px;
}

.qr-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

.qr-section p {
  font-size: 12px;
  color: var(--muted);
}
